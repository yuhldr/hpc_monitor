#! /usr/bin/env python

"""crontab只能每隔1分钟，这里需要每2s刷新一下
* * * * * source /usr/local/anaconda3/bin/activate gr && ylt_ref_2s
"""

import threading
import time

from ylt.html import ref_sinfo_s
from ylt.nodes import ref_node_top
from ylt.ns_state import ref_ns_state

for i in range(29):
    # 获取每个节点的top信息
    threading.Thread(target=ref_node_top).start()

    # ns独立服务器情况
    threading.Thread(target=ref_ns_state).start()

    # 刷新网页sinfo-s
    threading.Thread(target=ref_sinfo_s).start()

    time.sleep(2)
